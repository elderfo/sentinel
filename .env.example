# =============================================================================
# Sentinel — environment variable reference
#
# Copy this file to .env and fill in the values for your environment.
# .env is git-ignored; never commit it.
#
#   cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------

# Runtime environment. Use "development" locally and "production" in deployed
# environments. Controls log verbosity and other runtime behaviours.
NODE_ENV=development

# Structured log level. One of: trace | debug | info | warn | error | fatal
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# API server (packages/core)
# -----------------------------------------------------------------------------

# Port the API server listens on inside its container.
# The docker-compose.yml maps this to the host via API_PORT below.
PORT=3000

# Host port mapped to the API container. Change if 3000 is in use.
API_PORT=3000

# Full base URL of the API server, as seen by internal services (e.g. web,
# browser-worker). Uses Docker internal DNS — do not change for local dev.
API_URL=http://api:3000

# -----------------------------------------------------------------------------
# Web UI (packages/web)
# -----------------------------------------------------------------------------

# Port the web UI listens on inside its container.
WEB_PORT=8080

# -----------------------------------------------------------------------------
# PostgreSQL
# -----------------------------------------------------------------------------

# Connection string used by the API server to reach PostgreSQL.
# Format: postgresql://<user>:<password>@<host>:<port>/<database>
DATABASE_URL=postgresql://sentinel:sentinel@postgres:5432/sentinel

# Individual components — used by the postgres service definition and
# health-check. Must be consistent with DATABASE_URL.
POSTGRES_USER=sentinel
POSTGRES_PASSWORD=sentinel
POSTGRES_DB=sentinel

# Host port mapped to the PostgreSQL container. Change if 5432 is in use.
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------

# Connection string used by the API server and browser-worker to reach Redis.
REDIS_URL=redis://redis:6379

# Host port mapped to the Redis container. Change if 6379 is in use.
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# Sentinel AI integration (future)
# These are placeholders for forthcoming AI provider configuration.
# -----------------------------------------------------------------------------

# AI provider API key used for autonomous QA reasoning.
# SENTINEL_AI_API_KEY=

# Model identifier used for test generation and analysis.
# SENTINEL_AI_MODEL=gpt-4o

# -----------------------------------------------------------------------------
# Browser Engine (packages/browser)
# -----------------------------------------------------------------------------

# Browser engine to use. One of: chromium | firefox | webkit
BROWSER_TYPE=chromium

# Run the browser in headless mode (no visible window). Set to false for
# local debugging to watch the browser execute tests.
BROWSER_HEADLESS=true

# Default navigation timeout in milliseconds. Applies to page.goto() and
# similar navigation operations when no explicit timeout is provided.
BROWSER_DEFAULT_TIMEOUT=30000

# Directory where screenshots are saved. Relative to the working directory
# of the browser-worker process.
BROWSER_SCREENSHOT_DIR=./artifacts/screenshots

# Directory where session video recordings are saved.
BROWSER_VIDEO_DIR=./artifacts/video

# Directory where HAR (HTTP Archive) network trace files are saved.
BROWSER_HAR_DIR=./artifacts/har
